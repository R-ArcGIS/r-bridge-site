{
  "hash": "4f48760fb3f4fd8079001370a7b35cf0",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: Overview\n---\n\n\nLayers represent represent a data service hosted by ArcGIS Online, ArcGIS Enterprise, Platform, or even an ArcGIS Hub site. Layers are how you will interact with your remotely hosted data. \n\nThe `{arcgis}` R metapackage is able to work with the most common types of data services: feature services and image servers. The types of layers that the R-ArcGIS Bridge does not yet support are vector and map tile services. \n\n\n# Types of services \n\nWhen working with these data services, each service type is assigned their own S3 class. \n\n\n| Class | Description |\n| ----- | ----------- |\n| `FeatureLayer` | Represents vector data. Can contain Point, MultiPoint, Polyline, or Polygon data | \n| `Table` | A type of FeatureLayer in which there is no geometry present. Represents tabular data. | \n| `ImageServer` | Provides access to raster imagery.  | \n| `FeatureServer` | A collection of FeatureLayer and Tables. | \n| `GroupLayer` | A collection of FeatureLayer and Tables. | \n| `MapServer` | A collection arbitrary data service types. | \n\n# Accessing data services\n\nThe R package `{arcgislayers}` provides access to services. Working with data services follows a pattern:\n\n- first, create a reference to a remote data service\n- query the data service and bring the results back into R\n\n## Creating data service objects\n\nUsing `{arcgislayers}`, the function `arc_open()` will create a reference to a service based on its url. \n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(arcgis)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nAttaching core arcgis packages:\n→ arcgisutils v0.3.0\n→ arcgislayers v0.2.0\n```\n\n\n:::\n\n```{.r .cell-code}\n# feature service url\nfurl <- \"https://services3.arcgis.com/ZvidGQkLaDJxRSJ2/arcgis/rest/services/PLACES_LocalData_for_BetterHealth/FeatureServer/4\"\n\n# feature layer\nflayer <- arc_open(furl)\nflayer\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n<FeatureLayer>\nName: ZCTAs\nGeometry Type: esriGeometryPolygon\nCRS: 3785\nCapabilities: Query,Extract\n```\n\n\n:::\n:::\n\n\n## Querying feature services \n\nTo bring data from the service into memory in R, you must use `arc_select()`. \n\n\n:::{.callout-tip}\nAlways bring as little data as possible into memory. Utilize the `fields` and `where` arguments. \n:::\n\n\n::: {.cell}\n\n```{.r .cell-code}\narc_select(\n  flayer,\n  where = \"TotalPopulation > 100000\",\n  fields = c(\"objectid\", \"totalpopulation\", \"zcta5\")\n)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nSimple feature collection with 9 features and 3 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: -13185850 ymin: 3724192 xmax: -8218971 ymax: 5130142\nProjected CRS: WGS 84 / Pseudo-Mercator\n  OBJECTID TotalPopulation ZCTA5                       geometry\n1     1665          111086 79936 MULTIPOLYGON (((-11831249 3...\n2     2387          103892 90011 MULTIPOLYGON (((-13164358 4...\n3     2669          101279 90201 MULTIPOLYGON (((-13157079 4...\n4     2732          105549 90650 MULTIPOLYGON (((-13141865 4...\n5     3027          103689 91331 MULTIPOLYGON (((-13178819 4...\n6    19391          113916 60629 MULTIPOLYGON (((-9767482 51...\n7    25238          109931 11368 MULTIPOLYGON (((-8219675 49...\n8    25242          100820 11373 MULTIPOLYGON (((-8222572 49...\n9    26364          101572 11226 MULTIPOLYGON (((-8231772 49...\n```\n\n\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}